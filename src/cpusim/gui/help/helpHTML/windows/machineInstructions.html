<HTML>
<HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">

    <TITLE>The Machine Instructions Dialog </TITLE>

</HEAD>
<BODY LINK="#0000ff" VLINK="#800080" BGCOLOR="#FFFFFF">

<h3 ALIGN="CENTER"><B><FONT FACE="Arial" COLOR="#0000ff">The Machine Instructions Dialog</FONT></B></h3>

<P><FONT FACE="Palatino">The machine instructions dialog (see Figure 21) allows you to edit all
    <A HREF="../specifications/machineInstrs.html">
        machine instruction</A>s
    for the current machine. </FONT></P>

<P class="p3" ALIGN="CENTER"><FONT FACE="Palatino">
    <IMG border="1px" SRC="../generalHelp/tour/EditMachineInstr.jpg" HEIGHT="320" WIDTH="542">
    <BR>Figure 21. The dialog for editing machine instructions.</FONT></P>

<P><FONT FACE="Arial" COLOR="#0000ff"><B>The left section of the dialog</B></font></P><FONT FACE="Palatino">
    <P>The table on the left part of the dialog displays names of all existing machine instructions. You can see their
        opcodes, and format in the Format tab by clicking on each machine instruction. The right part of the dialog is
        for editing the fields, and execute sequence (that is, the list of microinstructions that are executed when the
        machine instruction is executed) for the currently selected machine instruction.</P>
    To edit the name of a machine instruction, just click or double-click on it.
</FONT>
<UL>
    <LI><FONT FACE="Palatino">For a discussion of what names are legal, see the specifications of
        <A HREF="../specifications/names.html">
            names</A>.</FONT></LI>
</UL>
<P><FONT FACE="Palatino">To delete a machine
    instruction, first select it by clicking on it in the table on the left. Then click the <B>Del</B> button below
    the table. </FONT></P>

<P><FONT FACE="Palatino">To create a new machine instruction, click the <B>New</B> button. </FONT></P>

<P><FONT FACE="Palatino">The <B>Dup</B> button below the left table
    allows you to easily create new machine instructions that are variations on other machine instructions. To use
    this feature, first select in the left table the machine instruction you wish to duplicate. Then click in the
    <B>Duplicate</B> button. A new machine instruction will be created with the same sequence of microinstructions.
    You can then edit the name of the new instruction, its opcode, and its microinstructions as you would any other
    machine instruction. </FONT></P>

<P><FONT FACE="Arial" COLOR="#0000ff"><B>The right section of the dialog</B></font></P>

<P><FONT FACE="Palatino"><B><I>Format</I></B></FONT></P>

<P><FONT FACE="Palatino">To edit the opcode of an instruction, just double-click on the entry and type in a new value.
    If you wish to delete one of the field from the instruction, delete it by dragging it out from Fetch Sequence
    Implementation. If you wish to insert a new field in the instruction, drag in the field you want from the list on
    the right. To reorder the fields, just drag them left or right in the bar.</FONT></P>

<UL>
    <LI><FONT FACE="Palatino">The opcode value is displayed in hexadecimal notation and all opcodes must be unique
        non-negative numbers. If you type in
        characters that are not hex characters (the hex characters are 0-9 and a-f and A-F), the opcode box you are
        editing will become highlighted in red and a beep will sound when you attempt to save
        your changes.</FONT></LI>
    <LI><FONT FACE="Palatino">The format of an instruction consists of a list of names of fields separated by spaces.
        Each field corresponds to a certain number of bits of the instruction. The first field holds the opcode.
        The remaining fields hold the operands of the instruction. Fields can also have length 0, which means they are
        just punctuation in the assembly language syntax for that instruction. The total length of all fields must be a
        positive number less than or equal to 64. <br> There are several properties of each field in addition to its
        length.
        You can create, delete, and edit these fields by clicking the &quot;Edit fields...&quot; button, which brings up
        the
        <A HREF="fields.html">&quot;Edit fields&quot; dialog</A>.</FONT></LI>
</UL>

<P><FONT FACE="Palatino"><B><I>Implementation</I></B></FONT></P>
<P><FONT FACE="Palatino">To edit an instruction's execute sequence, first select the instruction you wish to edit by
    clicking on it in the table on the left. Its execute sequence will appear in the list in the center of the
    dialog box. The list on the far right shows all existing microinstructions.</FONT></P>

<P><FONT FACE="Palatino">To insert a new microinstruction in the sequence, drag the microinstruction you want from
    the list in the right part of the dialog box into the dialog box. </FONT></P>

<P><FONT FACE="Palatino">To delete a microinstruction from the currently selected machine instruction's execute
    sequence, delete it by dragging it out from the list.  </FONT></P>

<P><FONT FACE="Palatino">To reorder the microinstructions in the execute sequence of the current machine instruction,
    click on the microinstruction you want to move and drag it up or down to its new position in the execute
    sequence.</FONT></P>

<P><FONT FACE="Palatino">At the bottom of the list of all microinstructions on the right (not shown in Figure 21), there
    is a microinstruction named &quot;Comment&quot;. When executed, this microinstruction does nothing. Instead, this
    microinstruction plays the role of a comment in the machine instruction's implementation. To add a Comment micro
    to a machine instruction's implementation list, first select it and then press <B>insert</B>. A new Comment
    microinstruction is added to the implementation. You can now edit the comment in the implementation list by
    double-clicking it (or pressing F2). Comments are colored gray and use an italics font to distinguish them from
    regular microinstructions.</FONT></P>

<P><FONT FACE="Palatino">Note: When creating or editing the implementation of a machine instruction, you need to use at
    least one End microinstruction. The End microinstruction indicates the end of the machine cycle and so causes CPU
    Sim to start a new machine cycle, beginning with the fetch sequence.</FONT></P>
</BODY>
</HTML>
